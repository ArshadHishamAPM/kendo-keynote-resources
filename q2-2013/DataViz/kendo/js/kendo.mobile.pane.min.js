/*
* Kendo UI Beta v2013.2.626 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

("function"==typeof define&&define.amd?define:function(e,n){return n()})(["./kendo.mobile.view.min","./kendo.mobile.loader.min"],function(){!function(e,n){function i(n){m(e(n.currentTarget),"rel")!=d&&n.preventDefault()}var t=window.kendo,o=t.mobile,a=t.roleSelector,r=o.ui,s=r.Widget,u=o.ViewEngine,l=o.ui.Loader,d="external",p="href",g="#!",c="navigate",v="viewShow",f="sameViewRequested",w=/popover|actionsheet|modalview|drawer/,h="#:back",m=t.attrValue,b="button backbutton detailbutton listview-link",k="tab",y=s.extend({init:function(e,n){var i,t=this;s.fn.init.call(t,e,n),e=t.element,e.addClass("km-pane"),t.history=[],t.loader=new l(e,{loading:t.options.loading}),t.viewEngine=new u({container:e,transition:t.options.transition,serverNavigation:t.options.serverNavigation,layout:t.options.layout,loader:t.loader}),t.viewEngine.bind(v,function(e){t.trigger(v,e)}),t.viewEngine.bind(f,function(e){t.trigger(f,e)}),t.viewEngine.bind("viewTypeDetermined",function(e){e.remote&&t.options.serverNavigation||t.trigger(c,{url:e.url})}),i=t.options.initial,i&&t.navigate(i),t._setupAppLinks()},options:{name:"Pane",transition:"",layout:"",initial:n,loading:n},events:[c,v,f],destroy:function(){s.fn.destroy.call(this),t.destroy(this.element)},navigate:function(e,n){var i=this,t=i.history;if(e===h){if(1===t.length)return;t.pop(),e=t[t.length-1]}else i.history.push(e);i.viewEngine.showView(e,n)},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},view:function(){return this.viewEngine.view()},_setupAppLinks:function(){this.element.handler(this).on("down",a(k),"_mouseup").on("up",a(b),"_mouseup").on("click",a(k+" "+b),i)},_mouseup:function(i){if(!(i.which>1||i.isDefaultPrevented())){var a=this,s=e(i.currentTarget),u=m(s,"transition"),l=m(s,"rel")||"",c=m(s,"target"),v=s.attr(p);l!==d&&n!==v&&v!==g&&(s.attr(p,g),setTimeout(function(){s.attr(p,v)}),l.match(w)?(t.widgetInstance(e(v),r).openFor(s),"actionsheet"===l&&i.stopPropagation()):("_top"===c?a=o.application.pane:c&&(a=e("#"+c).data("kendoMobilePane")),a.navigate(v,u)),i.preventDefault())}}});r.plugin(y)}(window.kendo.jQuery)});