/*
* Kendo UI Beta v2013.2.626 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

("function"==typeof define&&define.amd?define:function(t,e){return e()})(["./kendo.dataviz.core.min","./kendo.dataviz.svg.min"],function(){!function(t,e){function a(t,e,a){return t.substring(e,e+a)}var n,i,r,s,h,o,d=window.kendo,u=t.extend,c=t.inArray,p=t.isPlainObject,l=d.dataviz,v=d.ui.Widget,f=l.Box2D,g=l.Text,b=300,S=100,w=10,m=/^\d+$/,C=/^[a-z0-9]+$/i,B="The '{0}' character is not valid for encoding {1}",k=d.Class.extend({init:function(t){this.setOptions(t)},setOptions:function(t){this.options=u({},this.options,t)},encode:function(t,e,a){var n=this;return n.initValue(t,e,a),n.options.addQuietZone&&n.addQuietZone(),n.addData(),n.options.addQuietZone&&n.addQuietZone(),{baseUnit:n.baseUnit,pattern:n.pattern}},options:{quietZoneLength:w,addQuietZone:!0,addCheckSum:!0},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||w)},addData:function(){},invalidCharacterError:function(t){throw Error(d.format(B,t,this.options.name))}}),x={},A=k.extend({minBaseUnitLength:.7,addData:function(){var t,e=this,a=e.value;for(e.addStart(),t=0;t<a.length;t++)e.addCharacter(a.charAt(t));e.options.addCheckSum&&e.pushCheckSum(),e.addStop(),e.prepareValues()},addCharacter:function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addBase(e)},_findCharacterByValue:function(t){for(var e in this.characterMap)if(this.characterMap[e].value===t)return e},addBase:function(){},options:{addCheckSum:!1}}),y={addCharacter:function(t){this.characterMap[t]?this.addBase(this.characterMap[t]):t.charCodeAt(0)>127?this.invalidCharacterError(t):this.addExtended(t.charCodeAt(0))},addExtended:function(t){var a,n,i;for(n=0;n<this.extendedMappings.length;n++)if(a=this.extendedMappings[n].call(this,t)){for(i=0;i<a.length;i++)this.addBase(a[i]);return this.dataLength+=a.length-1,e}},extendedMappings:[function(t){return t>=97&&122>=t?[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(t-32)]]:e},function(t){return t>=33&&58>=t?[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(t+32)]]:e},function(t){return t>=1&&26>=t?[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(t+64)]]:e},function(t){var e,a,n=this;if(n.specialAsciiCodes[t])for(e=[],a=0;a<n.specialAsciiCodes[t].length;a++)e.push(n.characterMap[n.shiftCharacters[3]]),e.push(n.characterMap[n.specialAsciiCodes[t][a]]);else dataCharacter=6*Math.floor(t/32)+(t-27)%32+64,e=[n.characterMap[n.shiftCharacters[3]],n.characterMap[String.fromCharCode(dataCharacter)]];return e}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]};x.code39=A.extend({checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,initValue:function(t,e,a){var n=this;n.width=e,n.height=a,n.ratio=n.options.ratio||n.maxRatio,n.quietZoneLength=n.options.quietZoneLength,n.value=t,n.checkSum=0,n.dataLength=t.length,n.pattern=[],n.patternString=""},prepareValues:function(){var t=this,e=Math.max(.15*t.width,24);if(t.height<e)throw Error("Insufficient Height");for(t.setBaseUnit();t.baseUnit<t.minBaseUnitLength&&t.ratio>t.minRatio;)t.ratio=t.ratio-.1,t.setBaseUnit();if(t.baseUnit<t.minBaseUnitLength)throw Error("Insufficient Width");t.pattern=t.pattern.concat(t.patternString.replace(/ratio/g,t.ratio).split(""))},setBaseUnit:function(){var t=this,e=3*(t.ratio+2),a=t.options.addCheckSum?1:0,n=t.options.addQuietZone?t.options.quietZoneLength:0;t.baseUnit=t.width/(2*n+e*(t.dataLength+2+a)+t.gapWidth*(t.dataLength+a+1))},addStart:function(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()},addBase:function(t){this.addPattern(t.pattern),this.checkSum+=t.value,this.addCharacterGap()},pushCheckSum:function(){var t=this;t.checksum=t._getCheckValue(),this.addBase(this.characterMap[t._findCharacterByValue(t.checksum)])},_getCheckValue:function(){return this.checkSum%this.checkSumMod},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(t){for(var e=0;e<t.length;e++)this.patternString+=this.patternMappings[t.charAt(e)]},addCharacterGap:function(){this.patternString+=this.gapWidth},patternMappings:{b:"1",w:"1",B:"ratio",W:"ratio"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}}),x.code39extended=x.code39.extend(y).extend({pushCheckSum:function(){var t=this,e=t._getCheckValue();t.checksum=e,t.shiftValuesAsciiCodes[e]?t.addExtended(t.shiftValuesAsciiCodes[e]):t.addBase(t.characterMap[t._findCharacterByValue(e)])},characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}}),x.code93=A.extend({cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(t,e,a){var n=this;n.value=t,n.width=e,n.height=a,n.pattern=[],n.values=[],n.dataLength=t.length},prepareValues:function(){var t=this,e=Math.max(.15*t.width,24);if(t.height<e)throw Error("Insufficient Height");if(t.setBaseUnit(),t.baseUnit<t.minBaseUnitLength)throw Error("Insufficient Width")},setBaseUnit:function(){var t=this,e=t.options.addCheckSum?2:0,a=t.options.addQuietZone?t.options.quietZoneLength:0;t.baseUnit=t.width/(9*(t.dataLength+2+e)+2*a+1)},addStart:function(){var t=this.characterMap.START.pattern;this.addPattern(t)},addStop:function(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)},addBase:function(t){this.addPattern(t.pattern),this.values.push(t.value)},pushCheckSum:function(){var t,e,a=this,n=a._getCheckValues();for(a.checksum=n.join(""),e=0;e<n.length;e++)t=this.characterMap[this._findCharacterByValue(n[e])],this.addPattern(t.pattern)},_getCheckValues:function(){var t,e,a,n=this,i=n.values.reverse(),r=0;for(a=0;a<i.length;a++)r+=n.weightedValue(i[a],a+1,n.cCheckSumTotal);for(t=r%n.checkSumMod,i.splice(0,0,t),r=0,a=0;a<i.length;a++)r+=n.weightedValue(i[a],a+1,n.kCheckSumTotal);return e=r%n.checkSumMod,[t,e]},weightedValue:function(t,e,a){return(e%a||a)*t},addPattern:function(t){var e,a;for(a=0;a<t.length;a++)e=parseInt(t.charAt(a),10),this.pattern.push(e)},options:{addCheckSum:!0,addQuietZone:!0},characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}}),x.code93extended=x.code93.extend(y).extend({pushCheckSum:function(){var t,e,a=this,n=a._getCheckValues();for(a.checksum=n.join(""),e=0;e<n.length;e++)t=n[e],a.shiftValuesAsciiCodes[t]?a.addExtended(a.shiftValuesAsciiCodes[t]):a.addPattern(a.characterMap[a._findCharacterByValue(t)].pattern)}}),n=d.Class.extend({init:function(t){this.encoding=t},addStart:function(){},is:function(){},move:function(){},pushState:function(){}}),i=n.extend({FNC4:"FNC4",init:function(t,e){var a=this;a.encoding=t,a.states=e,a._initMoves(e)},addStart:function(){this.encoding.addPattern(this.START)},is:function(t,e){var a=t.charCodeAt(e);return this.isCode(a)},move:function(t){for(var e=this,a=0;!e._moves[a].call(e,t)&&a<e._moves.length;)a++},pushState:function(t){var e,a,n=this,i=n.states,r=t.value,s=r.length;for(c("C",i)>=0&&(a=r.match(/\d{4,}/g),a&&(s=r.indexOf(a[0])));(e=t.value.charCodeAt(t.index))>=0&&n.isCode(e)&&t.index<s;)n.encoding.addPattern(n.getValue(e)),t.index++},_initMoves:function(t){var e=this;e._moves=[],c(e.FNC4,t)>=0&&e._moves.push(e._moveFNC),c(e.shiftKey,t)>=0&&e._moves.push(e._shiftState),e._moves.push(e._moveState)},_moveFNC:function(t){return t.fnc?(t.fnc=!1,t.state==this.key):e},_shiftState:function(t){var a=this;return t.previousState==a.shiftKey&&a.encoding[a.shiftKey].is(t.value,t.index+1)?(a.encoding.addPattern(a.SHIFT),!0):e},_moveState:function(){return this.encoding.addPattern(this.MOVE),!0},SHIFT:98}),r={},r.A=i.extend({key:"A",shiftKey:"B",isCode:function(t){return t>=0&&96>t},getValue:function(t){return 32>t?t+64:t-32},MOVE:101,START:103}),r.B=i.extend({key:"B",shiftKey:"A",isCode:function(t){return t>=32&&128>t},getValue:function(t){return t-32},MOVE:100,START:104}),r.C=n.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(t,e){var n=a(t,e,4);return(e+4<=t.length||2==t.length)&&m.test(n)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(t){for(var e;(e=a(t.value,t.index,2))&&m.test(e);)this.encoding.addPattern(parseInt(e,10)),t.index+=2},getValue:function(t){return t},MOVE:99,START:105}),r.FNC4=n.extend({key:"FNC4",dependentStates:["A","B"],init:function(t,e){this.encoding=t,this._initSubStates(e)},addStart:function(t){var e=t.value.charCodeAt(0)-128,a=this._getSubState(e);this.encoding[a].addStart()},is:function(t,e){var a=t.charCodeAt(e);return this.isCode(a)},isCode:function(t){return t>=128&&256>t},pushState:function(t){var e,a=this,n=a._initSubState(t),i=a.encoding,r=n.value.length;if(t.index+=r,3>r)for(;n.index<r;n.index++)e=n.value.charCodeAt(n.index),n.state=a._getSubState(e),n.previousState!=n.state&&(n.previousState=n.state,i[n.state].move(n)),i.addPattern(i[n.state].MOVE),i.addPattern(i[n.state].getValue(e));else n.state!=n.previousState&&i[n.state].move(n),a._pushStart(n),i.pushData(n,a.subStates),t.index<t.value.length&&a._pushStart(n);t.fnc=!0,t.state=n.state},_pushStart:function(t){var e=this;e.encoding.addPattern(e.encoding[t.state].MOVE),e.encoding.addPattern(e.encoding[t.state].MOVE)},_initSubState:function(t){var e=this,a={value:e._getAll(t.value,t.index),index:0};return a.state=e._getSubState(a.value.charCodeAt(0)),a.previousState=t.previousState==e.key?a.state:t.previousState,a},_initSubStates:function(t){var e,a=this;for(a.subStates=[],e=0;e<t.length;e++)c(t[e],a.dependentStates)>=0&&a.subStates.push(t[e])},_getSubState:function(t){var e,a=this;for(e=0;e<a.subStates.length;e++)if(a.encoding[a.subStates[e]].isCode(t))return a.subStates[e]},_getAll:function(t,e){for(var a,n="";(a=t.charCodeAt(e++))&&this.isCode(a);)n+=String.fromCharCode(a-128);return n}}),r.FNC1=n.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(t,e){this.encoding=t,this.states=e},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return c(this.key,this.states)>=0},pushState:function(t){var e,a,n,i=this,r=i.encoding,s=t.value.replace(/\s/g,""),h=RegExp("["+i.startAI+i.endAI+"]","g"),o=t.index,d={state:i.startState};for(r.addPattern(i.START);;){if(d.index=0,n=s.charAt(o)===i.startAI?2:0,e=n>0?i.getBySeparator(s,o):i.getByLength(s,o),e.ai.length)a=o+n+e.id.length+e.ai.length;else if(a=s.indexOf(i.startAI,o+1),0>a){if(o+e.ai.max+e.id.length+n<s.length)throw Error("Separators are required after variable length identifiers");a=s.length}if(d.value=s.substring(o,a).replace(h,""),i.validate(e,d.value),d.state!=i.startState&&(r[i.startState].move(d),d.state=i.startState),r.pushData(d,i.dependentStates),a>=s.length)break;o=a,e.ai.length||r.addPattern(i.START)}t.index=t.value.length},validate:function(t,e){var a=e.substr(t.id.length),n=t.ai;if(!n.type&&!m.test(a))throw Error("AI "+t.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"==n.type&&!C.test(a))throw Error("Application identifier "+t.id+" is alphanumeric only but contains non alphanumeric character(s).");if(n.length&&n.length!==a.length)throw Error("Application identifier "+t.id+" must be "+n.length+" characters long.");if(n.min&&n.min>a.length)throw Error("Application identifier "+t.id+" must be at least "+n.min+" characters long.");if(n.max&&n.max<a.length)throw Error("Application identifier "+t.id+" must be at most "+n.max+" characters long.")},getByLength:function(t,e){var n,i,r;for(r=2;4>=r;r++)if(n=a(t,e,r),i=this.getAI(n)||this.getAI(n.substring(0,n.length-1)))return{id:n,ai:i};this.unsupportedAIError(n)},unsupportedAIError:function(t){throw Error(d.format("'{0}' is not a supported Application Identifier"),t)},getBySeparator:function(t,e){var a=this,n=t.indexOf(a.startAI,e),i=t.indexOf(a.endAI,n),r=t.substring(n+1,i),s=a.getAI(r)||a.getAI(r.substr(r.length-1));return s||a.unsupportedAIError(r),{ai:s,id:r}},getAI:function(t){var e,a,n,i=this.applicationIdentifiers,r=i.multiKey;if(i[t])return i[t];for(e=0;e<r.length;e++){if(r[e].ids&&c(t,r[e].ids)>=0)return r[e].type;if(r[e].ranges)for(a=r[e].ranges,n=0;n<a.length;n++)if(a[n][0]<=t&&t<=a[n][1])return r[e].type}},applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102}),s=k.extend({init:function(t){k.fn.init.call(this,t),this._initStates()},_initStates:function(){for(var t=0;t<this.states.length;t++)this[this.states[t]]=new r[this.states[t]](this,this.states)},initValue:function(t,e,a){var n=this;n.pattern=[],n.value=t,n.width=e,n.height=a,n.checkSum=0,n.totalUnits=0,n.index=0,n.position=1},addData:function(){var t=this,e={value:t.value,index:0,state:""};0!=t.value.length&&(e.state=e.previousState=t.getNextState(e,t.states),t.addStart(e),t.pushData(e,t.states),t.addCheckSum(),t.addStop(),t.setBaseUnit())},pushData:function(t,e){for(var a=this;;){if(a[t.state].pushState(t),t.index>=t.value.length)break;t.previousState=t.state,t.state=a.getNextState(t,e),a[t.state].move(t)}},addStart:function(t){this[t.state].addStart(t),this.position=1},addCheckSum:function(){var t=this;t.checksum=this.checkSum%103,t.addPattern(t.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){var t=this.options.addQuietZone?this.options.quietZoneLength:0;this.baseUnit=this.width/(this.totalUnits+2*t)},addPattern:function(t){var e,a,n=this,i=""+n.characterMap[t];for(a=0;a<i.length;a++)e=parseInt(i.charAt(a),10),n.pattern.push(e),n.totalUnits+=e;n.checkSum+=t*n.position++},getNextState:function(t,e){for(var a=0;a<e.length;a++)if(this[e[a]].is(t.value,t.index))return e[a];throw Error("Invalid character for encoding 128")},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106,options:{}}),x.code128a=s.extend({states:["A"]}),x.code128b=s.extend({states:["B"]}),x.code128c=s.extend({states:["C"]}),x.code128=s.extend({states:["C","B","A","FNC4"]}),x["gs1-128"]=s.extend({states:["FNC1","C","B"]}),h=k.extend({initValue:function(t,e){var a=this;a.pattern=[],a.value=t,a.checkSumLength=0,a.width=e},setBaseUnit:function(){var t=this,e=t.options.addQuietZone?2*t.options.quietZoneLength:0,a=7;t.baseUnit=t.width/(12*(t.value.length+t.checkSumLength)+e+a)},addData:function(){var t,e=this,a=e.value;for(e.addPattern(e.START),t=0;t<a.length;t++)e.addCharacter(a.charAt(t));e.options.addCheckSum&&e.addCheckSum(),e.addPattern(e.STOP),e.setBaseUnit()},addCharacter:function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addPattern(e)},addPattern:function(t){for(var e=0;e<t.length;e++)this.pattern.push(parseInt(t.charAt(e),10))},addCheckSum:function(){var t,e=this,a=e.checkSums[e.checkSumType],n=a.call(e.checkSums,e.value);for(e.checksum=n.join(""),t=0;t<n.length;t++)e.checkSumLength++,e.addPattern(e.characterMap[n[t]])},checkSums:{Modulo10:function(t){var e,a,n,i=[0,""],r=t.length%2;for(n=0;n<t.length;n++)i[(n+r)%2]+=parseInt(t.charAt(n),10);for(a=i[0],e=""+2*i[1],n=0;n<e.length;n++)a+=parseInt(e.charAt(n),10);return[(10-a%10)%10]},Modulo11:function(t){var e,a,n,i=0,r=11,s=t.length;for(n=0;s>n;n++)e=((s-n)%6||6)+1,i+=e*t.charAt(n);return a=(r-i%r)%r,10!=a?[a]:[1,0]},Modulo11Modulo10:function(t){var e,a=this.Modulo11(t);return e=t+a[0],a.concat(this.Modulo10(e))},Modulo10Modulo10:function(t){var e,a=this.Modulo10(t);return e=t+a[0],a.concat(this.Modulo10(e))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""}),x.msimod10=h.extend({checkSumType:"Modulo10"}),x.msimod11=h.extend({checkSumType:"Modulo11"}),x.msimod1110=h.extend({checkSumType:"Modulo11Modulo10"}),x.msimod1010=h.extend({checkSumType:"Modulo10Modulo10"}),x.code11=k.extend({cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(t,e){var a=this;a.pattern=[],a.value=t,a.width=e,a.totalUnits=0},addData:function(){var t,e=this,a=e.value;for(e.addPattern(e.START),t=0;t<a.length;t++)e.addCharacter(a.charAt(t));e.options.addCheckSum&&e.addCheckSum(),e.addPattern(e.STOP),e.setBaseUnit()},setBaseUnit:function(){var t=this.options.addQuietZone?2*this.options.quietZoneLength:0;this.baseUnit=this.width/(this.totalUnits+t)},addCheckSum:function(){var t,e=this,a=e.value,n=a.length,i=e.getWeightedSum(a,n,e.cCheckSumTotal)%e.checkSumMod;e.checksum=i+"",e.addPattern(e.characterMap[i]),n++,n>=e.kCheckSumMinLength&&(t=(i+e.getWeightedSum(a,n,e.kCheckSumTotal))%e.checkSumMod,e.checksum+=t,e.addPattern(e.characterMap[t]))},getWeightedSum:function(t,e,a){var n,i=0;for(n=0;n<t.length;n++)i+=this.weightedValue(this.getValue(t.charAt(n)),e,n,a);return i},weightedValue:function(t,e,a,n){var i=(e-a)%n||n;return i*t},getValue:function(t){return isNaN(t)?(t!==this.DASH&&this.invalidCharacterError(t),this.DASH_VALUE):parseInt(t,10)},addCharacter:function(t){var e=this.getValue(t),a=this.characterMap[e];this.addPattern(a)},addPattern:function(t){var e,a;for(a=0;a<t.length;a++)e=parseInt(t.charAt(a),10),this.pattern.push(e),this.totalUnits+=e},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:!0}}),x.postnet=k.extend({varyByHeight:!0,START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(t,e,a){var n=this;n.height=a,n.width=e,n.baseHeight=a/2,n.value=t.replace(RegExp(n.DIGIT_SEPARATOR,"g"),""),n.pattern=[],n.validate(n.value),n.checkSum=0,n.setBaseUnit()},addData:function(){var t,e=this,a=e.value;for(e.addPattern(e.START),t=0;t<a.length;t++)e.addCharacter(a.charAt(t));e.options.addCheckSum&&e.addCheckSum(),e.addPattern(e.START),e.pattern.pop()},addCharacter:function(t){var e=this.characterMap[t];this.checkSum+=parseInt(t,10),this.addPattern(e)},addCheckSum:function(){var t=this;t.checksum=(10-t.checkSum%10)%10,t.addCharacter(t.checksum)},setBaseUnit:function(){var t=this,e=t.options.addQuietZone?2*t.options.quietZoneLength:0,a=3;t.baseUnit=t.width/(10*(t.value.length+1)+a+e)},validate:function(t){if(c(t.length,this.VALID_CODE_LENGTHS)<0)throw Error("Invalid value length.");m.test(t)||this.invalidCharacterError(t.match(/[^0-9]/)[0])},addPattern:function(t){var e,a,n=this;for(a=0;a<t.length;a++)e=n.height-n.baseHeight*t.charAt(a),n.pattern.push({width:1,y1:e,y2:n.height}),n.pattern.push(1)},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]}),x.ean13=k.extend({initValue:function(t,e,a){if("number"==typeof t&&(t+=""),12!=t.length||/\D/.test(t))throw Error("Invalid value provided");t.length<12&&(t="");var n=this;n.pattern=[],n.options.height=a,n.baseUnit=e/(95+2*this.options.quietZoneLength),n.value=t,n.checksum=n.calculateChecksum(),n.leftKey=t[0],n.leftPart=t.substr(1,6),n.rightPart=t.substr(7)+n.checksum},addData:function(){var t=this;t.addPieces(t.characterMap.start),t.addSide(t.leftPart,t.leftKey),t.addPieces(t.characterMap.middle),t.addSide(t.rightPart),t.addPieces(t.characterMap.start)},addSide:function(t,e){var a,n=this;for(a=0;a<t.length;a++)e&&parseInt(this.keyTable[e][a],10)?n.addPieces(Array.prototype.slice.call(this.characterMap.digits[t.charAt(a)]).reverse(),!0):n.addPieces(this.characterMap.digits[t.charAt(a)],!0)},addPieces:function(t,e){for(var a=0;a<t.length;a++)e?this.pattern.push({y1:0,y2:.95*this.options.height,width:t[a]}):this.pattern.push(t[a])},calculateChecksum:function(){var t,e,a=0,n=0,i=this.value.split("").reverse().join("");for(t=0;t<i.length;t++)t%2?n+=parseInt(i.charAt(t),10):a+=parseInt(i.charAt(t),10);return e=(10-(3*a+n)%10)%10},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}}),x.ean8=x.ean13.extend({initValue:function(t,e,a){var n=this;if(7!=t.length||/\D/.test(t))throw Error("Invalid value provided");n.value=t,n.options.height=a,n.checksum=n.calculateChecksum(n.value),n.leftPart=n.value.substr(0,4),n.rightPart=n.value.substr(4)+n.checksum,n.pattern=[],n.baseUnit=e/(67+2*n.options.quietZoneLength)}}),o=v.extend({init:function(e,a){var n,i=this;v.fn.init.call(i,e,a),i.element=t(e),i.element.addClass("k-barcode"),n=l.ui.defaultView(),i.view=new n,i.setOptions(a)},setOptions:function(e){var a=this;if(a.type=(e.type||a.options.type).toLowerCase(),"upca"==a.type&&(a.type="ean13",e.value="0"+e.value),"upce"==a.type&&(a.type="ean8",e.value="0"+e.value),!x[a.type])throw Error("Encoding "+a.type+"is not supported.");e.value+="",a.encoding=new x[a.type],a.options=t.extend(!0,a.options,e),a.redraw()},redraw:function(){var t,a,n,i=this,r=i.options,s=r.text,h=r.border||{},o=i.encoding,d=f(0,0,r.width,r.height).unpad(h.width).unpad(r.padding),u=d.height();i.contentBox=d,i.view.children=[],i.addBackground(),n=l.measureText(d,{font:r.text.font}).height,s.visible&&(u-=n),t=o.encode(r.value,r.width-(r.padding.left+r.padding.right),u),s.visible&&(a=r.value,r.checksum&&o.checksum!==e&&(a+=" "+o.checksum),i.addTextElement(a)),i.barHeight=u,i.view.options.width=i.options.width,i.view.options.height=i.options.height,i.addElements(t.pattern,t.baseUnit),i.view.renderTo(i.element[0])},value:function(t){var a=this;return t===e?a.options.value:(a.options.value=t+"",a.redraw(),e)},addElements:function(t,e){var a,n,i,r=this,s=0+r.options.padding.left;for(i=0;i<t.length;i++)n=p(t[i])?t[i]:{width:t[i],y1:0,y2:r.barHeight},a=n.width*e,i%2&&r.view.children.push(r.view.createRect(new f(s,n.y1+r.contentBox.y1,s+a,n.y2+r.contentBox.y1),{fill:r.options.color})),s+=a},addBackground:function(){var t=this,e=t.options,a=e.border||{},n=f(0,0,e.width,e.height).unpad(a.width/2),i=t.view.createRect(n,{fill:e.background,stroke:a.width?a.color:"",strokeWidth:a.width,dashType:a.dashType});t.view.children.push(i)},addTextElement:function(t){var e=this,a=e.options.text,n=new g(t,{font:a.font,color:a.color,align:"center",vAlign:"bottom"});e.text=n,n.reflow(e.contentBox),n.box.unpad(a.margin),e.view.children.push(e.view.createText(t,{baseline:n.baseline,x:n.box.x1,y:n.box.y1,color:a.color,font:a.font}))},options:{name:"Barcode",value:"",type:"code39",checksum:!1,width:b,height:S,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}}),l.ui.plugin(o),d.deepExtend(l,{encodings:x,Encoding:k})}(window.kendo.jQuery)});