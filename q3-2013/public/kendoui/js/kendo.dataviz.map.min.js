/*
* Kendo UI Complete v2013.3.1111 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
!function(){function t(t){return typeof t!==v}function e(t,e){var i=u.pow(10,e||0);return u.round(t*i)/i}function i(t,e,i){return u.max(u.min(t,i),e)}function n(t){return t*m}function o(t){return t/m}function s(t){return u.round(t)+.5}function r(t){return"number"==typeof t&&!isNaN(t)}function a(e,i){return t(e)?e:i}function h(e,i){return t(i)?" "+e+"='"+i+"' ":""}function l(t){return"string"!=typeof t&&(t+="px"),t}function c(){this.observer&&this.observer.geometryChange()}var u=Math,d=window.kendo,p=d.deepExtend,f=d.dataviz,m=u.PI/180,v="undefined";p(f,{util:{mixins:{geometryChange:c},alignToPixel:s,defined:t,deg:o,isNumber:r,limitValue:i,round:e,rad:n,renderAttr:h,renderSize:l,valueOrDefault:a}})}(window.kendo.jQuery),function(){var t=Math,e=window.kendo,i=e.Class,n=e.deepExtend,o=e.dataviz,s=o.util,r=s.defined,a=s.rad,h=s.round,l=i.extend({init:function(t,e){this.x=t||0,this.y=e||0,this.observer=null},geometryChange:s.mixins.geometryChange,set:function(t,e){"x"===t?this.x!==e&&(this.x=e,this.geometryChange()):"y"===t&&this.y!==e&&(this.y=e,this.geometryChange())},get:function(t){return"x"===t?this.x:"y"===t?this.y:void 0},equals:function(t){return t&&t.x===this.x&&t.y===this.y},toString:function(t){var e=this.x,i=this.y;return r(t)&&(e=h(e,t),i=h(i,t)),e+" "+i},clone:function(){return new l(this.x,this.y)},rotate:function(e,i){var n=a(i),o=t.cos(n),s=t.sin(n),r=e.x,h=e.y,l=this.x,c=this.y;return this.x=r+(l-r)*o+(c-h)*s,this.y=h+(c-h)*o-(l-r)*s,this.geometryChange(),this},multiply:function(t){return this.x*=t,this.y*=t,this.geometryChange(),this},transform:function(t){return this.x=t.a*this.x+t.c*this.y+t.e,this.y=t.b*this.x+t.d*this.y+t.f,this.geometryChange(),this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},distanceTo:function(e){var i=this.x-e.x,n=this.y-e.y;return t.sqrt(i*i+n*n)},round:function(t){return this.x=h(this.x,t),this.y=h(this.y,t),this}}),c=i.extend({init:function(t,e){this.p0=t||new l,this.p1=e||new l,this.observer=null,this.p0.observer=this,this.p1.observer=this},geometryChange:s.mixins.geometryChange,width:function(){return this.p1.x-this.p0.x},height:function(){return this.p1.y-this.p0.y}}),u=i.extend({init:function(t,e){this.center=t||new l,this.radius=e||0,this.observer=null,this.center.observer=this},geometryChange:s.mixins.geometryChange,equals:function(t){return t&&t.center.equals(this.center)&&t.radius===this.radius},clone:function(){return new u(this.center.clone(),this.radius)},set:function(t,e){"radius"===t&&this.radius!==e&&(this.radius=e,this.geometryChange())},get:function(){return this.radius},pointAt:function(e){var i=this.center,n=this.radius,o=a(e);return new l(i.x-n*t.cos(o),i.y-n*t.sin(o))}}),d=i.extend({init:function(t,e,i,n,o,s){this.a=t||0,this.b=e||0,this.c=i||0,this.d=n||0,this.e=o||0,this.f=s||0},times:function(t){return new d(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}});n(d,{translate:function(t,e){var i=new d;return i.a=1,i.b=0,i.c=0,i.d=1,i.e=t,i.f=e,i},unit:function(){return new d(1,0,0,1,0,0)},rotate:function(e,i,n){var o=new d;return o.a=t.cos(a(e)),o.b=t.sin(a(e)),o.c=-o.b,o.d=o.a,o.e=i-i*o.a+n*o.b||0,o.f=n-n*o.a-i*o.b||0,o},scale:function(t,e){var i=new d;return i.a=t,i.b=0,i.c=0,i.d=e,i.e=0,i.f=0,i}}),n(o,{geometry:{Circle:u,Matrix:d,Point:l,Rect:c}})}(window.kendo.jQuery),function(){var t=jQuery,e=t.noop,i=Object.prototype.toString,n=window.kendo,o=n.Class,s=n.deepExtend,r=n.dataviz,a=o.extend({init:function(t){this.childNodes=[],this.parent=null,t&&(this.srcElement=t,t.observer=this)},load:e,append:function(t){this.childNodes.push(t),t.parent=this},remove:function(t,e){for(var i=t;e>i;i++)this.childNodes[i].clear();this.childNodes.splice(t,e),this.parent=null},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){this.parent&&this.parent.invalidate()},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(t){"add"===t.action?this.load(t.items):"remove"===t.action&&this.remove(t.index,t.items.length),this.invalidate()}}),h=o.extend({init:function(t,e){var i,n;this.observer=null,this.prefix=e||"";for(i in t)n=t[i],n=this.wrap(n,i),this[i]=n},optionsChange:function(t){this.observer&&this.observer.optionsChange(t)},get:function(t){return n.getter(t,!0)(this)},set:function(t,e){var i,o=n.getter(t,!0)(this);o!==e&&(i=this._set(t,this.wrap(e,t)),this.observer&&!i&&this.observer.optionsChange({field:this.prefix+t,value:e}))},_set:function(t,e){var i,o,s,r=t.indexOf(".")>=0;if(r)for(o=t.split("."),s="";o.length>1;){if(s+=o.shift(),i=n.getter(s,!0)(this),i||(i=new h({},s+"."),i.observer=this,this[s]=i),i instanceof h)return i.set(o.join("."),e),r;s+="."}return n.setter(t)(this,e),r},wrap:function(t,e){var n=i.call(t);return null!==t&&"[object Object]"===n&&(t instanceof h||(t=new h(t,this.prefix+e+".")),t.observer=this),t}});s(r,{drawing:{BaseNode:a,OptionsStore:h}})}(window.kendo.jQuery),function(){var t=window.kendo,e=t.Class,i=t.deepExtend,n=t.dataviz,o=n.append,s=n.geometry,r=s.Point,a=n.drawing,h=a.OptionsStore,l=n.util,c=l.defined,u=e.extend({init:function(t){var e=this;e.observer=null,e.options=new h(t||{}),e.options.observer=this},optionsChange:function(t){this.observer&&this.observer.optionsChange(t)},visible:function(t){return this.options.set("visible",t),this}}),d=u.extend({init:function(t){this.children=[],u.fn.init.call(this,t)},childrenChange:function(t,e,i){this.observer&&this.observer.childrenChange({action:t,items:e,index:i})},traverse:function(t){var e,i,n=this.children;for(e=0;e<n.length;e++)i=n[e],t(i),i.traverse&&i.traverse(t)},append:function(){o(this.children,arguments),this.childrenChange("add",arguments)},clear:function(){var t=this.children;this.children=[],this.childrenChange("remove",t,0)}}),p=u.extend({geometryChange:l.mixins.geometryChange,fill:function(t,e){return this.options.set("fill.color",t),c(e)&&this.options.set("fill.opacity",e),this},stroke:function(t,e,i){return this.options.set("stroke.color",t),c(e)&&this.options.set("stroke.width",e),c(i)&&this.options.set("stroke.opacity",i),this}}),f=p.extend({init:function(t,e){var i=this;i.content=t,p.fn.init.call(i,e)}}),m=p.extend({init:function(t,e){var i=this;p.fn.init.call(i,e),i.geometry=t||new s.Circle,i.geometry.observer=this}}),v=e.extend({init:function(t,e,i){var n=this;n.anchor=t||new r,n.anchor.observer=this,n.observer=null,e&&(n.controlIn=e,n.controlIn.observer=this),i&&(n.controlOut=i,n.controlOut.observer=this)},geometryChange:l.mixins.geometryChange}),g=p.extend({init:function(t){var e=this;e.segments=[],e.observer=null,p.fn.init.call(e,t)},moveTo:function(t,e){return this.segments=[],this.lineTo(t,e),this},lineTo:function(t,e){var i=c(e)?new r(t,e):t,n=new v(i);return n.observer=this,this.segments.push(n),this.geometryChange(),this},close:function(){return this.options.closed=!0,this.geometryChange(),this}}),y=p.extend({init:function(t){this.paths=[],p.fn.init.call(this,t)},moveTo:function(t,e){var i=new g;return i.observer=this,this.paths.push(i),i.moveTo(t,e),this},lineTo:function(t,e){return this.paths.length>0&&n.last(this.paths).lineTo(t,e),this},close:function(){return this.paths.length>0&&n.last(this.paths).close(),this}});i(a,{Group:d,Shape:p,Circle:m,Path:g,MultiPath:y,Segment:v,Text:f})}(window.kendo.jQuery),function(t){function e(t){var e,i,n,o;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(s){}e&&(i=-e.e%1,n=-e.f%1,o=t.style,(0!==i||0!==n)&&(o.left=i+"px",o.top=n+"px"))}function i(t){var e,i="";for(e=0;e<t.length;e++)i+=p(t[e][0],t[e][1]);return i}var n=document,o=window.kendo,s=o.Observable,r=o.deepExtend,a=o.dataviz,h=a.defined,l=a.renderTemplate,c=a.drawing,u=c.BaseNode,d=a.util,p=d.renderAttr,f="butt",m=a.DASH_ARRAYS,v="none",g="solid",y="square",_="http://www.w3.org/2000/svg",w="transparent",x="undefined",b=s.extend({init:function(t,e){s.fn.init.call(this),this.options=r({},this.options,e),this.bind(this.events,this.options),this._root=new T,this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._appendTo(t)},options:{width:"100%",height:"100%"},events:["click","mouseenter","mouseleave"],translate:function(t){var e=o.format("{0} {1} {2} {3}",t.x,t.y,this._width,this._height);this.element.setAttribute("viewBox",e)},draw:function(t){this._root.load([t])},clear:function(){this._root.clear()},svg:function(){return this._template(this)},destroy:function(){this.clear(),t(this.element).kendoDestroy()},_template:l("<?xml version='1.0' ?><svg xmlns='"+_+"' version='1.1' "+"width='#= kendo.dataviz.util.renderSize(d.options.width) #' "+"height='#= kendo.dataviz.util.renderSize(d.options.height) #' "+"style='position: absolute;'>#= d._root.render() #</svg>"),_appendTo:function(i){z(i,this._template(this)),this.element=i.firstElementChild,e(this.element),this._root.attachTo(this.element);var n=t(this.element);n.on("click",this._click),n.on("mouseover",this._mouseenter),n.on("mouseout",this._mouseleave),this._width=n.width(),this._height=n.height()},_handler:function(t){var e=this;return function(i){var n=i.target._kendoNode;n&&e.trigger(t,{shape:n.srcElement,originalEvent:i})}}}),k=u.extend({load:function(t){var e,i,n,o,s=this,r=s.element;for(o=0;o<t.length;o++)i=t[o],n=i.children,i instanceof c.Group?e=new C(i):i instanceof c.Path?e=new E(i):i instanceof c.MultiPath?e=new S(i):i instanceof c.Circle&&(e=new L(i)),n&&n.length>0&&e.load(n),s.append(e),r&&e.attachTo(r)},attachTo:function(t){var e,i=n.createElement("div");z(i,"<svg xmlns='"+_+"' version='1.1'>"+this.render()+"</svg>"),e=i.firstChild.firstChild,e&&(t.appendChild(e),this.setElement(e))},setElement:function(t){var e,i,n=this.childNodes;for(this.element&&(this.element._kendoNode=null),this.element=t,t._kendoNode=this,i=0;i<n.length;i++)e=t.childNodes[i],n[i].setElement(e)},template:l("#= d.renderChildren() #"),render:function(){return this.template(this)},renderChildren:function(){var t,e=this.childNodes,i="";for(t=0;t<e.length;t++)i+=e[t].render();return i},clear:function(){var t=this.element;t&&(t.parentNode.removeChild(t),this.element=null),u.fn.clear.call(this)}}),T=k.extend({attachTo:function(t){this.element=t},clear:u.fn.clear}),C=k.extend({template:l("<g>#= d.renderChildren() #</g>")}),E=k.extend({geometryChange:function(){this.attr("d",this.renderData()),this.invalidate()},optionsChange:function(t){switch(t.field){case"fill":this.allAttr(this.mapFill(t.value));break;case"fill.color":this.allAttr(this.mapFill({color:t.value}));break;case"stroke":this.allAttr(this.mapStroke(t.value));break;case"visible":this.attr("visibility",t.value?"visible":"hidden");break;default:var e=this.attributeMap[t.field];e&&this.attr(e,t.value)}this.invalidate()},attributeMap:{"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},attr:function(t,e){this.element&&this.element.setAttribute(t,e)},allAttr:function(t){for(var e=0;e<t.length;e++)this.attr(t[e][0],t[e][1])},renderData:function(){return this.printPath(this.srcElement)},printPath:function(t){var e,i,n,o=t.segments;if(o.length>0){for(n=[],i=0;i<o.length;i++)n.push(o[i].anchor.toString(1));return e="M"+n.join(" "),t.options.closed&&(e+="Z"),e}},mapStroke:function(t){var e=[];return t&&(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),h(t.opacity)&&e.push(["stroke-opacity",t.opacity]),h(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])),e},renderStroke:function(){return i(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(t){var e,i,n,o=t.width||1,s=t.dashType;if(s&&s!=g){for(i=m[s.toLowerCase()],n=[],e=0;e<i.length;e++)n.push(i[e]*o);return n.join(" ")}},renderLinecap:function(t){var e=t.dashType,i=t.lineCap||y;return e&&e!=g?f:i},mapFill:function(t){var e=[];return t&&t.color!==w?(e.push(["fill",t.color]),h(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill",v]),e},renderFill:function(){return i(this.mapFill(this.srcElement.options.fill))},renderCursor:function(){var t=this.srcElement.options.cursor;return t?"cursor:"+t+";":void 0},renderVisibility:function(){return this.srcElement.options.visible===!1?p("visibility","hidden"):""},template:l("<path #= kendo.dataviz.util.renderAttr('style', d.renderCursor()) # #= d.renderVisibility() # #= kendo.dataviz.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # stroke-linejoin='round'></path>")}),S=E.extend({renderData:function(){var t,e,i=this.srcElement.paths;if(i.length>0){for(e=[],t=0;t<i.length;t++)e.push(this.printPath(i[t]));return e.join(" ")}}}),L=E.extend({geometryChange:function(){var t=this.srcElement.geometry;this.attr("cx",t.center.x),this.attr("cy",t.center.y),this.attr("r",t.radius),this.invalidate()},template:l("<circle #= kendo.dataviz.util.renderAttr('style', d.renderCursor()) # cx='#= this.srcElement.geometry.center.x #' cy='#= this.srcElement.geometry.center.y #' r='#= this.srcElement.geometry.radius #' #= d.renderVisibility() # #= d.renderStroke() # #= d.renderFill() #></circle>")}),z=function(t,e){t.innerHTML=e};!function(){var t="<svg xmlns='"+_+"'></svg>",e=n.createElement("div"),i=typeof DOMParser!=x;e.innerHTML=t,i&&e.firstChild.namespaceURI!=_&&(z=function(t,e){var i=new DOMParser,o=i.parseFromString(e,"text/xml"),s=n.adoptNode(o.documentElement);t.innerHTML="",t.appendChild(s)})}(),r(c,{svg:{CircleNode:L,GroupNode:C,MultiPathNode:S,Node:k,PathNode:E,RootNode:T,Surface:b}})}(window.kendo.jQuery),function(){var t,e=Math,i=e.max,n=e.min,o=window.kendo,s=o.Class,r=o.dataviz,a=o.deepExtend,h=r.util,l=h.round,c=h.valueOrDefault,u=s.extend({init:function(t,e){1===arguments.length?(this.lat=t[0],this.lng=t[1]):(this.lat=t,this.lng=e)},FORMAT:"{0:N6},{1:N6}",toString:function(){return o.format(this.FORMAT,this.lng,this.lat)},toArray:function(){return[this.lat,this.lng]},equals:function(t){return t&&t.lat===this.lat&&t.lng===this.lng},round:function(t){return this.lng=l(this.lng,t),this.lat=l(this.lat,t),this}});u.fromLngLat=function(t){return new u(t[1],t[0])},u.fromLatLng=function(t){return new u(t[0],t[1])},u.create=function(t,e){return t instanceof u?t:1===arguments.length&&2===t.length?u.fromLatLng(t):new u(t,e)},t=s.extend({init:function(t,e){this.nw=t,this.se=e},contains:function(t){var e=this.nw,i=this.se,n=c(t.lng,t[0]),o=c(t.lat,t[1]);return t&&n+180>=e.lng+180&&n+180<=i.lng+180&&o+90>=i.lat+90&&o+90<=e.lat+90},containsAny:function(t){var e,i=!1;for(e=0;e<t.length;e++)i=i||this.contains(t[e]);return i},include:function(t){var e=this.nw,o=this.se,s=c(t.lng,t[0]),r=c(t.lat,t[1]);e.lng=n(e.lng,s),e.lat=i(e.lat,r),o.lng=i(o.lng,s),o.lat=n(o.lat,r)},includeAll:function(t){for(var e=0;e<t.length;e++)this.include(t[e])},edges:function(){var t=this.nw,e=this.se;return[t,new u(t.lat,e.lng),e,new u(t.lng,e.lat)]},overlaps:function(t){return this.containsAny(t.edges())||t.containsAny(this.edges())}}),a(r,{map:{Extent:t,Location:u}})}(window.kendo.jQuery),function(t){function e(t){return i.format('<button class="k-button k-compass-{0}"><span class="k-icon k-i-arrow-{0}"/></button>',t)}var i=window.kendo,n=i.ui.Widget,o=".kendoCompass",s=e("n")+e("e")+e("s")+e("w")+'<button class="k-button k-compass-c"><span/></button>',r=n.extend({init:function(e,i){n.fn.init.call(this,e,i),this._initOptions(i),this.element.addClass("k-widget k-header k-shadow k-compass").append(s).on("click"+o,".k-button",t.proxy(this,"_click"))},options:{name:"Compass",panStep:1},events:["center","pan"],_click:function(e){var i=0,n=0,o=this.options.panStep,s=t(e.currentTarget);s.is(".k-compass-c")?this.trigger("center"):(s.is(".k-compass-n")?n=1:s.is(".k-compass-s")?n=-1:s.is(".k-compass-e")?i=1:s.is(".k-compass-w")&&(i=-1),this.trigger("pan",{x:i*o,y:n*o}))}});i.dataviz.ui.plugin(r)}(jQuery),function(){var t=Math,e=t.atan,i=t.exp,n=t.pow,o=t.sin,s=t.log,r=t.tan,a=window.kendo,h=a.Class,l=a.dataviz,c=l.Matrix,u=a.deepExtend,d=l.geometry,p=d.Point,f=l.map,m=f.Location,v=l.util,g=v.rad,y=v.deg,_=v.limitValue,w=t.PI,x=w/2,b=w/4,k=w/180,T={a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149},C=h.extend({init:function(t){this._initOptions(t)},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:T},forward:function(t,e){var i=this,n=i.options,o=n.datum,s=o.a,r=n.centralMeridian,a=_(t.lat,-i.MAX_LAT,i.MAX_LAT),h=e?_(t.lng,-i.MAX_LNG,i.MAX_LNG):t.lng,l=g(h-r)*s,c=i._projectLat(a);return new p(l,c)},_projectLat:function(t){var e=this.options.datum,i=e.e,a=e.a,h=g(t),l=r(b+h/2),c=i*o(h),u=n((1-c)/(1+c),i/2);return a*s(l*u)},inverse:function(t,e){var i=this,n=i.options,o=n.datum,s=o.a,r=n.centralMeridian,a=t.x/(k*s)+r,h=_(i._inverseY(t.y),-i.MAX_LAT,i.MAX_LAT);return e&&(a=_(a,-i.MAX_LNG,i.MAX_LNG)),new m(h,a)},_inverseY:function(s){var r,a,h,l,c=this,u=c.options.datum,d=u.a,p=u.e,f=p/2,m=i(-s/d),v=x-2*e(m);for(r=0;r<=c.INVERSE_ITERATIONS&&(a=p*o(v),h=n((1-a)/(1+a),f),l=x-2*e(m*h)-v,v+=l,!(t.abs(l)<=c.INVERSE_CONVERGENCE));r++);return y(v)}}),E=C.extend({MAX_LAT:85.0511287798,_projectLat:function(t){var e=this.options.datum.a,i=g(t),n=r(b+i/2);return e*s(n)},_inverseY:function(t){var n=this.options.datum.a,o=i(-t/n);return y(x-2*e(o))}}),S=h.extend({forward:function(t){return new p(t.lng,t.lat)},inverse:function(t){return new m(t.y,t.x)}}),L=h.extend({init:function(){var t=this,e=t._proj=new E,i=this.c=2*w*e.options.datum.a;this._tm=c.translate(.5,.5).times(c.scale(1/i,-1/i)),this._itm=c.scale(i,-i).times(c.translate(-.5,-.5))},toPoint:function(t,e,i){var n=this._proj.forward(t,i);return n.transform(this._tm).multiply(e||1)},toLocation:function(t,e,i){return t=t.clone().multiply(1/(e||1)).transform(this._itm),this._proj.inverse(t,i)}}),z=h.extend({init:function(){this._proj=new C},toPoint:function(t){return this._proj.forward(t)},toLocation:function(t){return this._proj.inverse(t)}}),M=h.extend({init:function(){this._proj=new S},toPoint:function(t){return this._proj.forward(t)},toLocation:function(t){return this._proj.inverse(t)}});u(l,{map:{crs:{EPSG3395:z,EPSG3857:L,EPSG4326:M},datums:{WGS84:T},projections:{Equirectangular:S,Mercator:C,SphericalMercator:E}}})}(window.kendo.jQuery),function(t){var e=t.proxy,i=window.kendo,n=i.Class,o=i.data.DataSource,s=i.dataviz,r=i.deepExtend,a=s.geometry,h=s.drawing,l=h.Group,c=s.map,u=c.Location,d=n.extend({init:function(n,o){this._initOptions(o),this.map=n,this.element=t("<div class='k-layer'></div>").appendTo(n.scrollElement),this.movable=new i.ui.Movable(this.element),this.surface=new h.svg.Surface(this.element[0]),this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseenter=this._handler("shapeMouseEnter"),this.surface.bind("mouseenter",this._mouseenter),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),n.bind("reset",e(this.reset,this)),n.bind("panEnd",e(this._panEnd,this)),this._loader=new p(this.map,this.options.style,this),this._initDataSource()},options:{autoBind:!0,dataSource:{}},reset:function(){this.surface.translate({x:0,y:0}),this.movable.moveTo({x:0,y:0}),this._data&&this._load(this._data)},polygon:function(t,e){this.surface.draw(this._buildPolygon(t,e))},_initDataSource:function(){var t=this.options.dataSource;this._dataChange=e(this._dataChange,this),this.dataSource=o.create(t).bind("change",this._dataChange),t&&this.options.autoBind&&this.dataSource.fetch()},_dataChange:function(t){this._load(t.items)},_load:function(t){var e,i;for(this._data=t,this.surface.clear(),e=0;e<t.length;e++)i=this._loader.parse(t[e]),i&&this.surface.draw(i)},shapeCreated:function(t){var e,i=!1;return t instanceof h.Circle&&(i=!this._createMarker(t)),i||(e={layer:this,shape:t},i=this.map.trigger("shapeCreated",e)),i},_createMarker:function(t){var e,i,n=t.dataItem,o=c.Marker.create({location:t.location.toArray()},this.map.options.markerDefaults);return o.dataItem=n,e={marker:o},i=this.map.trigger("markerCreated",e),i||this.map.markers.add(o),i},_panEnd:function(){var t=this.map,e=t.locationToView(t.extent().nw);this.surface.translate(e),this.movable.moveTo(e)},_handler:function(t){var e=this;return function(i){if(i.shape){var n={layer:e,shape:i.shape,originalEvent:i.originalEvent};e.map.trigger(t,n)}}}}),p=n.extend({init:function(t,e,i){this.observer=i,this.locator=t,this.style=e},parse:function(t){var e=new l;return"Feature"===t.type?this._loadGeometryTo(e,t.geometry,t):this._loadGeometryTo(e,t,t),e.children.length<2&&(e=e.children[0]),e},_shapeCreated:function(t){var e=!1;return this.observer&&this.observer.shapeCreated&&(e=this.observer.shapeCreated(t)),e},_loadGeometryTo:function(t,e,i){var n,o,s=e.coordinates;switch(e.type){case"LineString":o=this._loadPolygon(t,[s],i),o.options.fill=null;break;case"MultiLineString":for(n=0;n<s.length;n++)o=this._loadPolygon(t,[s[n]],i),o.options.fill=null;break;case"Polygon":this._loadPolygon(t,s,i);break;case"MultiPolygon":for(n=0;n<s.length;n++)this._loadPolygon(t,s[n],i);break;case"Point":this._loadPoint(t,s,i);break;case"MultiPoint":for(n=0;n<s.length;n++)this._loadPoint(t,s[n],i)}},_loadShape:function(t,e){return this._shapeCreated(e)||t.append(e),e},_loadPolygon:function(t,e,i){var n=this._buildPolygon(e);return n.dataItem=i,this._loadShape(t,n)},_buildPolygon:function(t){var e,i,n,o=t.length>1?h.MultiPath:h.Path,s=new o(this.style);for(e=0;e<t.length;e++)for(i=0;i<t[e].length;i++)n=this.locator.locationToView(u.fromLngLat(t[e][i])),0===i?s.moveTo(n.x,n.y):s.lineTo(n.x,n.y);return s},_loadPoint:function(t,e,i){var n=u.fromLngLat(e),o=this.locator.locationToView(n),s=new a.Circle(o,1),r=new h.Circle(s);return r.dataItem=i,r.location=n,this._loadShape(t,r)}});r(i.data,{schemas:{geojson:{type:"json",data:function(t){return"FeatureCollection"===t.type?t.features:"GeometryCollection"===t.type?t.geometries:t}}},transports:{geojson:{read:{dataType:"json"}}}}),r(s,{map:{layers:{shape:d,ShapeLayer:d},GeoJSONLoader:p}})}(window.kendo.jQuery),function(t){function e(t){return new u(h(t.x),h(t.y))}var i=Math,n=t.proxy,o=window.kendo,s=o.Class,r=o.template,a=o.dataviz,h=a.round,l=o.deepExtend,c=a.geometry,u=c.Point,d=a.util,p=d.renderSize,f=d.limitValue,m=600,v=400,g=s.extend({init:function(e,i){var s=this;i=l({},i,{width:e.element.width()||m,height:e.element.height()||v}),s._initOptions(i),s.map=e,this.element=t(this._template(this)).appendTo(e.scrollElement),s._loadView(),e.bind("reset",n(s.reset,s)),o.support.mobileOS?e.bind("panEnd",n(s._render,s)):e.bind("pan",n(s._pan,this))},_loadView:function(){this._view=new y(this.element,this.options),this._updateView()},_updateView:function(){var t=this._view,e=this.map,i=e.extent(),n={nw:e.locationToLayer(i.nw).round(),se:e.locationToLayer(i.se).round()};t.center(e.locationToLayer(e.center())),t.extent(n),t.zoom(e.zoom())},destroy:function(){this._view.destroy(),this._view=null},reset:function(){this._updateView(),this._view.clear(),this._view.reset()},_template:o.template("<div class='k-layer'style='width: #= kendo.dataviz.util.renderSize(options.width) #;height: #= kendo.dataviz.util.renderSize(options.height) #;'></div>"),_pan:function(){var t=this,e=new Date,i=t._pan.timestamp;(!i||e-i>100)&&(this._render(),t._pan.timestamp=e)},_render:function(){this._updateView(),this._view.render()}}),y=s.extend({init:function(t,e){this.element=t,this._initOptions(e),this.pool=new w},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:""},center:function(t){this._center=t},extent:function(t){this._extent=t},zoom:function(t){this._zoom=t},pointToTileIndex:function(t){return new u(i.floor(t.x/this.options.tileSize),i.floor(t.y/this.options.tileSize))},clear:function(){this.pool.empty()},tileCount:function(){var t=this.size(),e=this.pointToTileIndex(this._extent.nw),n=this.indexToPoint(e).subtract(this._extent.nw);return{x:i.ceil((i.abs(n.x)+t.width)/this.options.tileSize),y:i.ceil((i.abs(n.y)+t.height)/this.options.tileSize)}},size:function(){var t=this._extent.nw,e=this._extent.se,i=e.clone().subtract(t);return{width:i.x,height:i.y}},indexToPoint:function(t){var e=t.x,i=t.y;return new u(e*this.options.tileSize,i*this.options.tileSize)},subdomainText:function(){var t=this.options.subdomains;return t[this.subdomainIndex++%t.length]},destroy:function(){this.element.empty(),this.pool.empty()},reset:function(){this.subdomainIndex=0,this.basePoint=this._extent.nw,this.render()},render:function(){var t,e,i,n=this.tileCount(),o=this.pointToTileIndex(this._extent.nw);for(e=0;e<n.x;e++)for(i=0;i<n.y;i++)t=this.createTile({x:o.x+e,y:o.y+i}),t.visible||(this.element.append(t.element),t.visible=!0)},createTile:function(t){var i=this.wrapIndex(t),n=this.indexToPoint(t),o=n.clone().subtract(this.basePoint),s=r(this.options.urlTemplate),a={index:i,currentIndex:t,point:n,offset:e(o),zoom:this._zoom,url:s({zoom:this._zoom,x:i.x,y:i.y,subdomain:this.subdomainText()}),opacity:this.options.opacity};return this.pool.get(this._center,a)},wrapIndex:function(t){var e=i.pow(2,this._zoom);return{x:this.wrapValue(t.x,e),y:f(t.y,0,e-1)}},wrapValue:function(t,e){var n=i.abs(t)%e;return t=t>=0?n:e-(0===n?e:n)}}),_=s.extend({init:function(e){this.element=t("<img style='position: absolute; display: block; visibility: visible;' unselectable='on'></img>"),this.load(e),this.visible=!1},load:function(t){var e=this.element[0];e.style.visibility="visible",e.style.display="block",e.setAttribute("src",t.url),this.url=t.url,e.style.top=p(t.offset.y),e.style.left=p(t.offset.x),this.offset=t.offset,e.style.opacity=t.opacity,this.point=t.point,this.index=t.index,this.currentIndex=t.currentIndex,this.id="x:"+this.currentIndex.x+"y:"+this.currentIndex.y+"zoom:"+t.zoom,this.visible=!0},destroy:function(){this.element&&(this.element.remove(),this.element=null)}}),w=s.extend({init:function(){this._items=[]},options:{maxSize:100},get:function(t,e){var i,n=this;return i=n._items.length>=n.options.maxSize?n._update(t,e):n._create(e)},empty:function(){var t,e=this._items;for(t=0;t<e.length;t++)e[t].destroy();this._items=[]},_create:function(t){var e,i,n,o,s=this,r=s._items,a=s._tileId(t);for(i=0;i<r.length;i++)n=r[i],n.id===a&&(e=n,o=e);return e?e.load(t):(o=new _(t),this._items.push(o)),o},_tileId:function(t){return"x:"+t.currentIndex.x+"y:"+t.currentIndex.y+"zoom:"+t.zoom},_update:function(t,e){var i,n,o,s,r=this,a=r._items,h=-Number.MAX_VALUE,l=r._tileId(e);for(o=0;o<a.length;o++){if(s=a[o],i=s.point.clone().distanceTo(t),s.id===l)return a[o];i>h&&(n=o,h=i)}return a[n].load(e),a[n]}});l(a,{map:{layers:{tile:g,TileLayer:g,ImageTile:_,TilePool:w,TileView:y}}})}(window.kendo.jQuery),function(t){var e=document,i=Math,n=t.inArray,o=t.proxy,s=window.kendo,r=s.Class,a=s.ui.Tooltip,h=s.dataviz,l=s.deepExtend,c=h.map,u=c.Location,d=r.extend({init:function(e,i){this._initOptions(i),this.items=[],this.map=e,this.element=t("<div class='k-layer'></div>").css("zIndex",this.options.zIndex).appendTo(e.scrollElement),this.reset=o(this.reset,this),e.bind("reset",this.reset)},dispose:function(){this.map.unbind("reset",this.reset),this.clear()},options:{zIndex:1e3},add:function(e){if(!t.isArray(e))return this._addOne(e);for(var i=0;i<e.length;i++)this._addOne(e[i])},_addOne:function(t){var e=p.create(t,this.options.markerDefaults);return e.addTo(this),e},remove:function(t){t.dispose();var e=n(t,this.items);e>-1&&this.items.splice(e,1)},clear:function(){for(var t=0;t<this.items.length;t++)this.items[t].dispose();this.items=[]},update:function(t){var e=t.options.location;e&&(e=u.create(e),t.showAt(this.map.locationToView(e)))},reset:function(){var t,e=this.items;for(t=0;t<e.length;t++)this.update(e[t])}}),p=r.extend({init:function(t){this.options=t||{}},addTo:function(t){this.layer=t.markers||t,this.layer.items.push(this),this.layer.update(this)},setLocation:function(t){this.options.location=u.create(t),this.layer&&this.layer.update(this)},showAt:function(t){this.render(),this.element.css({left:i.round(t.x),top:i.round(t.y)}),this.tooltip&&this.tooltip.popup&&this.tooltip.popup._position()},hide:function(){this.element&&(this.element.remove(),this.element=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)},dispose:function(){this.layer=null,this.hide()},render:function(){var i,n;this.element||(i=this.options,n=this.layer,this.element=t(e.createElement("span")).addClass("k-marker k-marker-"+s.toHyphens(i.shape||"pin")).attr("alt",i.title).css("zIndex",i.zIndex),n&&n.element.append(this.element),this.renderTooltip())},renderTooltip:function(){var t,e,i=this,n=i.options.tooltip;n&&a&&(t=n.template,t&&(e=s.template(t),n.content=function(t){return t.location=i.options.location,t.marker=i,e(t)}),(n.content||n.contentUrl)&&(this.tooltip=new a(this.element,n),this.tooltip.marker=this))}});p.create=function(t,e){return t instanceof p?t:new p(l({},t,e))},l(h,{map:{layers:{marker:d,MarkerLayer:d},Marker:p}})}(window.kendo.jQuery),function(t){var e=document,i=Math,n=i.pow,o=t.proxy,s=window.kendo,r=s.ui.Widget,a=s.deepExtend,h=s.dataviz,l=h.ui.Compass,c=h.defined,u=h.geometry,d=h.map,p=d.Extent,f=d.Location,m=d.crs.EPSG3857,v=h.util,g=v.valueOrDefault,y=v.limitValue,_="k-",w=.9,x="DOMMouseScroll mousewheel",b=5,k=r.extend({init:function(t,i){s.destroy(t),r.fn.init.call(this,t),this._initOptions(i),this.bind(this.events,i),this.crs=new m,this.element.addClass(_+this.options.name.toLowerCase()).css("position","relative").empty().append(e.createElement("div")),this._viewOrigin=this.origin(),this._initScroller(),this._initLayers(),this._initMarkers(),this._initControls(),this._reset(),this._mousewheel=o(this._mousewheel,this),this.element.bind("click",o(this._click,this)),this.element.bind(x,this._mousewheel)},options:{name:"Map",controls:{navigator:{panStep:100}},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:18,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{autoHide:!1,position:"top",showOn:"click"}},wraparound:!0},events:["click","reset","pan","panEnd","shapeClick","shapeCreated","shapeMouseEnter","shapeMouseLeave","zoomStart","zoomEnd"],destroy:function(){this.scroller.destroy(),r.fn.destroy.call(this)},zoom:function(t){var e=this.options;return c(t)?(e.zoom=y(t,e.minZoom,e.maxZoom),this._reset(),this):e.zoom},center:function(t){return t?(this._center=f.create(t),this._origin=null,this._reset(),this):(this._center||(this._center=f.create(this.options.center)),this._center)},origin:function(t){var e,i=this._viewportSize();return t?(t=f.create(t),e=this.locationToLayer(t),e.x+=i.width/2,e.y+=i.height/2,this._origin=t,this._center=this.layerToLocation(e),this):(this._origin||(e=this.locationToLayer(this.center()),e.x-=i.width/2,e.y-=i.height/2,this._origin=this.layerToLocation(e)),this._origin)},extent:function(){var t,e=this.origin(),i=this.locationToLayer(e),n=this._viewportSize();return i.x+=n.width,i.y+=n.height,t=this.layerToLocation(i),new p(e,t)},scale:function(t){return t=g(t,this.options.zoom),this.options.minSize*n(2,t)},locationToLayer:function(t,e){var i=!this.options.wraparound;return t=f.create(t),this.crs.toPoint(t,this.scale(e),i)},layerToLocation:function(t,e){var i=!this.options.wraparound;return this.crs.toLocation(t,this.scale(e),i)},locationToView:function(t){var e,i;return t=f.create(t),e=this.locationToLayer(this._viewOrigin),i=this.locationToLayer(t),i.subtract(e)},viewToLocation:function(t){var e=this.locationToLayer(this.origin());return t=t.clone(),t.x+=e.x,t.y+=e.y,this.layerToLocation(t)},_initControls:function(){var i,n,r=this.options.controls;l&&r.navigator&&!s.support.mobileOS&&(i=t(e.createElement("div")).appendTo(this.element),n=this.compass=new l(i,r.navigator),this._compassPan=o(this._compassPan,this),n.bind("pan",this._compassPan),this._compassCenter=o(this._compassCenter,this),n.bind("center",this._compassCenter))
},_compassPan:function(t){var e=this,i=e.scroller,n=i.scrollLeft+t.x,o=i.scrollTop-t.y,s=this._virtualSize,r=this.element.height(),a=this.element.width();n=y(n,s.x.min,s.x.max-a),o=y(o,s.y.min,s.y.max-r),e.scroller.one("scroll",function(t){e._scrollEnd(t)}),e.scroller.scrollTo(-n,-o)},_compassCenter:function(){this.center(this.options.center)},_initScroller:function(){var t=this.scroller=new s.mobile.ui.Scroller(this.element.children(0),{friction:w,velocityMultiplier:b,zoom:!0});t.bind("scroll",o(this._scroll,this)),t.bind("scrollEnd",o(this._scrollEnd,this)),this.scrollElement=t.scrollElement},_initLayers:function(){var t,e,i,n,o,s=this.options.layers,r=this.layers=[];for(t=0;t<s.length;t++)e=s[t],i=e.type||"shape",n=this.options.layerDefaults[i],o=h.map.layers[i],r.push(new o(this,a({},n,e)))},_initMarkers:function(){this.markers=new d.layers.MarkerLayer(this,{markerDefaults:this.options.markerDefaults}),this.markers.add(this.options.markers)},_scroll:function(t){var e=this.locationToLayer(this._viewOrigin).round();e.x+=t.scrollLeft,e.y+=t.scrollTop,this.origin(this.layerToLocation(e)),this.trigger("pan",{originalEvent:t,origin:this.origin(),center:this.center()})},_scrollEnd:function(t){this.trigger("panEnd",{originalEvent:t,origin:this.origin(),center:this.center()})},_reset:function(){this._viewOrigin=this.origin(),this._resetScroller(),this.trigger("reset")},_resetScroller:function(){var t,e,i=this.scroller,n=i.dimensions.x,o=i.dimensions.y,s=this.scale(),r=20*s,a=this.extent().nw,h=this.locationToLayer(a).round();i.reset(),n.makeVirtual(),o.makeVirtual(),t={min:-h.x,max:s-h.x},this.options.wraparound&&(t.min=-r,t.max=r),n.virtualSize(t.min,t.max),e={min:-h.y,max:s-h.y},o.virtualSize(e.min,e.max),this._virtualSize={x:t,y:e}},_renderLayers:function(){var t,e,i,n,o,s=this.options.layers,r=this.layers=[],l=this.scrollWrap;for(l.empty(),t=0;t<s.length;t++)e=s[t],i=e.type||"shape",n=this.options.layerDefaults[i],o=h.map.layers[i],r.push(new o(this,a({},n,e)))},_viewportSize:function(){var t=this.element,e=this.scale(),n=t.width();return this.options.wraparound||(n=i.min(e,n)),{width:n,height:i.min(e,t.height())}},_click:function(t){var e=this._mousePoint(t);this.trigger("click",{originalEvent:t,location:this.viewToLocation(e)})},_mousePoint:function(t){var e=this.element.offset(),i=this.scroller,n=i.scrollLeft+t.originalEvent.pageX-e.left,o=i.scrollTop+t.originalEvent.pageY-e.top;return new u.Point(n,o)},_mousewheel:function(t){var e,i,n,o,s,r,a,l,c,u,d;t.preventDefault(),e=h.mwDelta(t)>0?-1:1,i=this.options,n=this.zoom(),o=y(n+e,i.minZoom,i.maxZoom),o!==n&&(this.trigger("zoomStart",{originalEvent:t}),s=this._mousePoint(t),r=this.viewToLocation(s),a=this.locationToLayer(r),l=this.locationToLayer(r,o),c=l.subtract(a),u=this.locationToLayer(this.origin()),u.x+=c.x,u.y+=c.y,d=this.layerToLocation(u,o),this.origin(d),this.zoom(o),this.trigger("zoomEnd",{originalEvent:t}))}});h.ui.plugin(k)}(window.kendo.jQuery);
//@ sourceMappingURL=kendo.dataviz.map.min.js.map